Все папки которые находятся в этом каталоге пользовательские темы для ic-cms  Ц

## Структура каталогов внутри темы

 - `cmp` - папка для отдельных видов комонентов
 - `css` - папка для стилей
 - `font` - папка в которой хранятся шрифты требуемые для темы
 - `img` - изобраражения которые нужны непосредственно в теме 
 - `inc` - папка для include файлов, если требудется разделить базовый шаблон (к примеру если есть два базовых вида `defaultLayout.php` `workLayout.php` и у них одинаковый футер, то файл `footer.php` помещаем в папку `inc`)
 - `js` - папка для js 
 - `pic` - папка для временных изображений которые нужны для разработки или примеров
 - `workLayout.php` - этот и все остльные файлы являются базовыми базовыми шаблонами

## Загрузка стилей
Для добавления стилей используется функция `<?php $this->includeCSS("styles.css"); ?>` с именем подключаемого файла.  
К пути автоматически дописывается путь к теме.  Функцию можно вызывать в любом как в главном шаблоне, так и в шаблонах видов любого из компонетов.  

Для того чтобы подключить все добавленные стили на страницу используется функция `<?php $this->loadCSS(); ?>`

## Загрузка JS
Добавление также как и стилей: `<?php $this->includeJS("main.js"); ?>`.  
При загрузке нужно использовать две функции: `<?php $this->loadJS();      $this->loadJsData();`

## Базовый шаблон

Базовых башлонов может быть несколько. Все они должны размещатся в коневой директории темы.
В нем обязательно должны быть базовая структура ифункции загрузки позиций `$this->loadPosition("position1", "workLayout");`.  Позиции указываются в админке на страничке 'Типы-страниц'

Пример шаблона есть в папке example.

## Шаблоны компонентов
В каждом компоненте есть свои виды которые выдодятся. 
Если посмотреть код страници то можно увидеть елементы с id #(Имя компонента)_(имя вида).
Можно перекрыть вид из компонента положив в его папке темы в папку `cmp/$component/$viewname.php` .
Во время поиска шаблона в приоритете выбор вида из темы. Если в теме шаблон не найден то тогда берется вид из папки компонента.

В шаблон всегда приходит переменная `$data` cо всеми данными. Внутри шаблона можно использовать только функции вывода и цыклы (для вывода масивов). Любые рассчеты должны проиводится в самом компоненте.

## Вывод данных в виде
Для вывода и редактирования используется метод  
`$this->Input($type, $table, $column, $rowId, $value, $extraArray, $id_owner);`

 - `$type`       - формат поля для редактирования
 - `$table`      - таблица в которой хранится значение
 - `$column`     - столбик со значением
 - `$rowId`      - id ряда в которой находится значение
 - `$value`      - то что будет фактически выведено
 - `$extraArray` - дополнительные данные
 - `$id_owner`   - владелец записи

К примеру для вывода заглавий всех статей которые у нас находятся в `$list`

```php
foreach($list as $article){
    $this->Input('text', 'artcl_article', 'name', $article['id_article'], $article['name'],array(),$article['id_owner']);
}
```
1. В большинстве случаев то что мы фактически выводим совпадает с тем что у нас пришло из бд, но бывают исключения. Например когда в бд у нас дата в числовом формате а мы хотим отображать "11 сен 2003".  
2. Переменная `$extraArray` используется в тех случаях когда нам для вывода нужно что-то еще. К примеру для выпадающего списка требуется список всех возможных вариантов.  
3. Также желательно вводить владельца записи. В каждой таблице бд есть столбик 'id_owner' по нему идет сравнение может ли текущий пользователь редактировать текущую запись или нет. Если не ввести то система сделает дополнительный запрос чтобы получить эти данные. Это создает огромную нагрузку на бд и вся траничка будет загружатся очень долго.
